<template>
    <lightning-card title='Get Account Info'>
        <div class="slds-text-align_center slds-m-bottom_medium">
            <lightning-button variant="brand" label="Fetch Accounts" title="Accounts" onclick={handleClick} disabled={btnDisabled}></lightning-button>
        </div>
        <div if:true={showSpinner}>
            <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
        </div>
        <template if:true={showData}>
            <lightning-datatable
                key-field="Name"
                data={accountData}
                columns={columns}
                onrowselection={handleRowAction}>
            </lightning-datatable>
            <div class="slds-text-align_center slds-m-top_medium ">
            <lightning-button variant="brand" label="Create Account(s)" onclick={createAccount} disabled={btnCreate}></lightning-button>
            <div if:true={isPopupOpen}>
                <c-popup-model
                is-modal-open = {isPopupOpen}
                message = {message}
                onrefreshcmp = {hideData}
                ></c-popup-model>
            </div>
        </div>
        </template>
        
    </lightning-card>
</template>